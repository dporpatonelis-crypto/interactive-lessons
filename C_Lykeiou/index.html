<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <title>Interactive PDF Reader</title>
    <style>
        /* Î•Î´Ï Ï€Î±ÏÎ±Î¼Î­Î½ÎµÎ¹ ÏŒÎ»Î¿ Ï„Î¿ CSS Ï€Î¿Ï… ÎµÎ¯Ï‡ÎµÏ‚ (Sidebar, Dark Mode, ÎºÎ»Ï€) */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Times New Roman', serif; background: #f5f5dc; color: #2c1810; line-height: 1.8; transition: background 0.3s; }
        body.dark-mode { background: #1a1a1a; color: #e0e0e0; }
        .sidebar { position: fixed; left: 0; top: 0; width: 280px; height: 100vh; background: linear-gradient(180deg, #8b4513, #654321); padding: 20px; overflow-y: auto; z-index: 1000; transition: transform 0.4s; }
        .sidebar.hidden { transform: translateX(-100%); }
        .page-container { margin-left: 280px; padding: 20px; max-width: 900px; }
        .raw-text { background: white; padding: 30px; border-radius: 12px; margin: 20px 0; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        body.dark-mode .raw-text { background: #2c2c2c; }
        .image-placeholder img { max-width: 100%; display: none; border-radius: 8px; }
        .video-container iframe { width: 100%; height: 450px; border-radius: 12px; display: none; }
        .page-controls { position: fixed; top: 15px; right: 15px; display: flex; gap: 8px; z-index: 999; }
        button { padding: 10px; cursor: pointer; border-radius: 5px; border: none; background: #8b4513; color: white; }
        
        @media (max-width: 768px) {
            .sidebar { width: 100%; }
            .page-container { margin-left: 0; padding-top: 80px; }
        }
    </style>
</head>
<body>
    <button id="toggleSidebar" onclick="toggleSidebar()">â˜° ÎœÎµÎ½Î¿Ï</button>

    <nav class="sidebar hidden" id="sidebar">
        <h2 style="color: #f0e68c;">Î ÎµÏÎ¹ÎµÏ‡ÏŒÎ¼ÎµÎ½Î±</h2>
        <div id="navigation-links">
            </div>
    </nav>

    <div class="page-controls">
        <button onclick="toggleDarkMode()">ğŸŒ“ Mode</button>
    </div>

    <div class="page-container">
        <div class="raw-text">
            <h2 id="page-title">Î¦ÏŒÏÏ„Ï‰ÏƒÎ·...</h2>
            <div id="page-content">Î ÎµÏÎ¹Î¼Î­Î½ÎµÏ„Îµ Ï„Î· Ï†ÏŒÏÏ„Ï‰ÏƒÎ· Ï„Ï‰Î½ Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½...</div>

            <div class="image-placeholder">
                <img id="page-image" src="" alt="Î•Î¹ÎºÏŒÎ½Î± ÏƒÎµÎ»Î¯Î´Î±Ï‚">
            </div>

            <div class="video-container" id="video-wrapper">
                <iframe id="page-video" src="" frameborder="0" allowfullscreen></iframe>
            </div>
        </div>
    </div>

    <script>
        let allData = null;

        // 1. Î— Î›Î•Î™Î¤ÎŸÎ¥Î¡Î“Î™Î‘ FETCH: Î¤ÏÎ±Î²Î¬ÎµÎ¹ Ï„Î± Î´ÎµÎ´Î¿Î¼Î­Î½Î± Î±Ï€ÏŒ Ï„Î¿ JSON
        async function loadData() {
            try {
                const response = await fetch('data.json');
                allData = await response.json();
                buildNavigation();
                displayPage(allData.pages[0].id); // Î”ÎµÎ¯Î¾Îµ Ï„Î·Î½ Ï€ÏÏÏ„Î· ÏƒÎµÎ»Î¯Î´Î±
            } catch (error) {
                document.getElementById('page-content').textContent = "Î£Ï†Î¬Î»Î¼Î±: Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎµ Ï„Î¿ Î±ÏÏ‡ÎµÎ¯Î¿ data.json.";
            }
        }

        // 2. Î•Î¼Ï†Î¬Î½Î¹ÏƒÎ· Ï€ÎµÏÎ¹ÎµÏ‡Î¿Î¼Î­Î½Î¿Ï… ÏƒÎµÎ»Î¯Î´Î±Ï‚
        function displayPage(pageId) {
            const page = allData.pages.find(p => p.id === pageId);
            if (!page) return;

            document.getElementById('page-title').textContent = page.title;
            // ÎœÎµ Ï„Î¿ innerHTML Ï…Ï€Î¿ÏƒÏ„Î·ÏÎ¯Î¶Î¿Ï…Î¼Îµ ÎºÎ±Î¹ Ï„Ï…Ï‡ÏŒÎ½ Î±Î»Î»Î±Î³Î­Ï‚ Î³ÏÎ±Î¼Î¼Î®Ï‚ Î±Ï€ÏŒ Ï„Î¿ PDF
            document.getElementById('page-content').innerHTML = page.content.replace(/\n/g, '<br>');

            // Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Î•Î¹ÎºÏŒÎ½Î±Ï‚
            const img = document.getElementById('page-image');
            if (page.image) {
                img.src = page.image;
                img.style.display = 'block';
            } else {
                img.style.display = 'none';
            }

            // Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Video
            const video = document.getElementById('page-video');
            if (page.videoId) {
                video.src = `https://www.youtube.com/embed/${page.videoId}`;
                video.style.display = 'block';
            } else {
                video.style.display = 'none';
            }
            
            if (window.innerWidth <= 768) toggleSidebar(); // ÎšÎ»ÎµÎ¯ÏƒÎµ Ï„Î¿ Î¼ÎµÎ½Î¿Ï ÏƒÏ„Î± ÎºÎ¹Î½Î·Ï„Î¬ Î¼ÎµÏ„Î¬ Ï„Î·Î½ ÎµÏ€Î¹Î»Î¿Î³Î®
        }

        // 3. Î‘Ï…Ï„ÏŒÎ¼Î±Ï„Î· Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Î¼ÎµÎ½Î¿Ï Ï€Î»Î¿Î®Î³Î·ÏƒÎ·Ï‚
        function buildNavigation() {
            const nav = document.getElementById('navigation-links');
            nav.innerHTML = '';
            allData.pages.forEach(page => {
                const link = document.createElement('a');
                link.href = "#";
                link.className = "page-link";
                link.style.display = "block";
                link.style.color = "white";
                link.style.padding = "10px";
                link.style.textDecoration = "none";
                link.textContent = page.title;
                link.onclick = () => displayPage(page.id);
                nav.appendChild(link);
            });
        }

        // Î’Î±ÏƒÎ¹ÎºÎ­Ï‚ Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯ÎµÏ‚ UI
        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('hidden');
        }

        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
        }

        // Î•ÎºÎºÎ¯Î½Î·ÏƒÎ·
        window.addEventListener('DOMContentLoaded', loadData);
    </script>
</body>
</html>